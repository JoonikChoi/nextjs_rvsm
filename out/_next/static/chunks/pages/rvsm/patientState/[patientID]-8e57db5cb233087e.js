(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[287],{6635:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rvsm/patientState/[patientID]",function(){return n(2630)}])},2630:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(5893),i=n(7294),a=(n(9217),n(5376)),s=n(6589),o=n.n(s);function c(e){var t=e.patientName,n=e.adminName,i=e.highestHeartRate,s=e.lowestHeartRate,c=e.highestSpo2,l=e.lowestSpo2,u=e.highestTemperature,_=e.lowestTemperature,d={labels:e.dates,datasets:[{type:"line",label:"HeartRate",backgroundColor:"rgba(255, 99, 132, 1)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,data:e.heartRates},{type:"line",label:"Spo2",backgroundColor:"rgba(87, 98, 255, 1)",borderColor:"rgba(87, 98, 255, 1)",borderWidth:1,data:e.spo2s},{type:"line",label:"Temperature",backgroundColor:"rgba(247, 198, 154, 1)",borderColor:"rgba(247, 198, 154, 1)",borderWidth:1,data:e.temperature}]};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:o().top_box}),(0,r.jsx)("div",{className:o().red_line}),(0,r.jsxs)("div",{id:o().info_box,children:[(0,r.jsxs)("div",{id:o().user_info_box,className:o().text,children:[(0,r.jsx)("span",{children:"\uc774\ub984"}),(0,r.jsx)("span",{className:o().name_box,children:t}),(0,r.jsx)("hr",{className:o().hr_solid}),(0,r.jsx)("span",{className:o().bio_title,children:"\uccb4\uc628"}),(0,r.jsxs)("div",{className:o().bio_val_box,children:[(0,r.jsx)("div",{children:"\ucd5c\uc800"}),(0,r.jsx)("div",{children:_})]}),(0,r.jsxs)("div",{className:o().bio_val_box,children:[(0,r.jsx)("div",{children:"\ucd5c\uace0"}),(0,r.jsx)("div",{children:u})]}),(0,r.jsx)("hr",{className:o().hr_dotted}),(0,r.jsx)("span",{className:o().bio_title,children:"\uc2ec\ubc15"}),(0,r.jsxs)("div",{className:o().bio_val_box,children:[(0,r.jsx)("div",{children:"\ucd5c\uc800"}),(0,r.jsx)("div",{children:s})]}),(0,r.jsxs)("div",{className:o().bio_val_box,children:[(0,r.jsx)("div",{children:"\ucd5c\uace0"}),(0,r.jsx)("div",{children:i})]}),(0,r.jsx)("hr",{className:o().hr_dotted}),(0,r.jsx)("span",{className:o().bio_title,children:"\uc0b0\uc18c\ud3ec\ud654\ub3c4"}),(0,r.jsxs)("div",{className:o().bio_val_box,children:[(0,r.jsx)("div",{children:"\ucd5c\uc800"}),(0,r.jsx)("div",{children:l})]}),(0,r.jsxs)("div",{className:o().bio_val_box,children:[(0,r.jsx)("div",{children:"\ucd5c\uace0"}),(0,r.jsx)("div",{children:c})]}),(0,r.jsx)("hr",{className:o().hr_dotted}),(0,r.jsx)("span",{children:"\uad00\ub9ac\uc790"}),(0,r.jsx)("span",{className:o().name_box,children:n}),(0,r.jsx)("hr",{className:o().hr_dotted})]}),(0,r.jsx)("div",{id:o().notice_box,children:(0,r.jsx)("div",{id:o().notice,children:"\uce21\uc815 \uc218\uce58\ub294 \uc5ec\ub7ec \uc694\uc18c\uc5d0 \ub530\ub77c \ub2ec\ub77c\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 xx\ub97c \ucc38\uc870\ud558\uc138\uc694."})})]}),(0,r.jsx)("div",{children:"\ucc28\ud2b8"}),(0,r.jsx)("div",{className:o().green_line}),(0,r.jsx)("div",{id:o().chart_box,children:(0,r.jsx)(a.x1,{type:"line",data:d,options:{maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{boxHeight:1}}},animation:{duration:0},scales:{y:{beginAtZero:!0}}}})}),(0,r.jsx)("div",{className:o().green_line})]})}var l=n(1163),u=n(6809),_=n.n(u),d=n(8894),h=n(6866);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(){var e=function(){var e={patientID:o,time:f.current};u.current.emit("request_bio_data",e)},t=function(e){H((function(t){return-1==t||t<e?e:t})),E((function(t){return-1==t||t>e?e:t}))},n=function(e){D((function(t){return-1==t||t<e?e:t})),M((function(t){return-1==t||t>e?e:t}))},a=function(e){B((function(t){return-1==t||t<e?e:t})),J((function(t){return-1==t||t>e?e:t}))},s=(0,l.useRouter)(),o=(0,i.useRef)(null),u=(0,i.useRef)(null),x=(0,i.useRef)([]),f=(0,i.useRef)(null),p=(0,i.useState)(["0","0","0","0","0","0","0","0","0"]),m=p[0],v=p[1],j=(0,i.useState)([0,0,0,0,0,0,0,0,0]),S=j[0],g=j[1],N=(0,i.useState)([0,0,0,0,0,0,0,0,0]),y=N[0],P=N[1],R=(0,i.useState)([0,0,0,0,0,0,0,0,0]),w=R[0],T=R[1],I=(0,i.useState)(-1),A=I[0],H=I[1],k=(0,i.useState)(-1),C=k[0],E=k[1],O=(0,i.useState)(-1),W=O[0],D=O[1],X=(0,i.useState)(-1),q=X[0],M=X[1],Z=(0,i.useState)(-1),z=Z[0],B=Z[1],F=(0,i.useState)(-1),G=F[0],J=F[1],K=(0,i.useState)(""),L=K[0],U=K[1],V=(0,i.useState)(""),Y=V[0],$=V[1];return(0,i.useEffect)((function(){if(s.isReady&&(o=s.query.patientID,u.current=_()("http://localhost:3333",{transports:["websocket"]}),f.current="2022-09-17 00:30:00",null!=u.current)){u.current.connect(),u.current.emit("request_user_info",o),e(),u.current.on("response_bio_data",(function(e){0!=e.length&&(x.current=e,function(){var e=function(e){v((function(t){var n=b(t);return n.push(x.current[e].TIME),n.shift(),n})),g((function(n){var r=b(n);return r.push(x.current[e].HeartRate),r.shift(),t(x.current[e].HeartRate),r})),P((function(t){var r=b(t);return r.push(x.current[e].Spo2),r.shift(),n(x.current[e].Spo2),r})),T((function(t){var n=b(t);return n.push(x.current[e].Spo2-10),n.shift(),a(x.current[e].Spo2-10),n}))},r=Object.keys(x.current).length;f.current=x.current[r-1].TIME;for(var i=0;i<r;i++)e(i)}())})),u.current.on("response_user_info",(function(e){U(e.patient_name),$(e.admin_name)}));var r=setInterval(e,1e3);return function(){clearInterval(r),u.current.disconnect()}}}),[s.isReady]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{}),(0,r.jsx)(c,{patientName:L,adminName:Y,highestHeartRate:A,lowestHeartRate:C,highestSpo2:W,lowestSpo2:q,highestTemperature:z,lowestTemperature:G,dates:m,heartRates:S,spo2s:y,temperature:w}),(0,r.jsx)(h.Z,{})]})}},6589:function(e){e.exports={title:"PatientState_title__Dpfb8",red_line:"PatientState_red_line__TytBo",green_line:"PatientState_green_line__lzztK",info_box:"PatientState_info_box__b0puw",user_info_box:"PatientState_user_info_box__vOXPR",notice_box:"PatientState_notice_box__5MDN4",notice:"PatientState_notice___oJgq",chart_box:"PatientState_chart_box__TXisW",hr_solid:"PatientState_hr_solid__xVHy1",hr_dotted:"PatientState_hr_dotted__AbibZ",name_box:"PatientState_name_box__xsW9G",bio_val_box:"PatientState_bio_val_box__WdLii",bio_title:"PatientState_bio_title__9njjn",text:"PatientState_text__17HIe",top_box:"PatientState_top_box__SxXYn"}},7020:function(){}},function(e){e.O(0,[757,637,809,985,335,774,888,179],(function(){return t=6635,e(e.s=t);var t}));var t=e.O();_N_E=t}]);